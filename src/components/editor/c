export async function loadBitmap(src) {
  // поддержка base64 и обычных URL
  if (src.startsWith('data:image/')) {
    const res = await fetch(src);
    const blob = await res.blob();
    return await createImageBitmap(blob);
  } else {
    const img = new Image();
    img.crossOrigin = 'anonymous';
    img.decoding = 'async';
    img.src = src;
    await img.decode();
    return await createImageBitmap(img);
  }
}
